#pragma once

#include <stdio.h>
#include <iostream>
#include <vector>
#include <stack>
#include <string>
#include <fstream>
#include <stdbool.h>

#define ACCEPT 1000

using namespace std;

/* convert string in parsing table to integer

-------------Table Information---------------

   Shift -> (3n + 1)        ex) S4 = 13
   Reduce -> (3n + 2)        ex) R7 = 23
   Goto -> (3n)             ex) 4 = 12

---------------------------------------------
*/
int string_to_num(string s);

/* state stack */
stack<int> state;

/* array save all terminals and non_terminals */
string term_and_non[36] = {

    "vtype",     /* 0  */
    "num",        /* 1  */
    "float",    /* 2  */
    "literal",    /* 3  */
    "id",        /* 4  */
    "if",        /* 5  */
    "else",        /* 6  */
    "while",    /* 7  */
    "for",        /* 8  */
    "return",    /* 9  */
    "addsub",    /* 10 */
    "multdiv",    /* 11 */
    "assign",    /* 12 */
    "comp",        /* 13 */
    "semi",        /* 14 */
    "comma",    /* 15 */
    "lparen",    /* 16 */
    "rparen",    /* 17 */
    "lbrace",    /* 18 */
    "rbrace",    /* 19 */
    "$",        /* 20 */
    "CODE",        /* 21 */
    "VDECL",    /* 22 */
    "FDECL",    /* 23 */
    "ARG",        /* 24 */
    "MOREARGS",    /* 25 */
    "BLOCK",    /* 26 */
    "STMT",        /* 27 */
    "ASSIGN",    /* 28 */
    "RHS",        /* 29 */
    "EXPR",        /* 30 */
    "TERM",        /* 31 */
    "FACTOR",    /* 32 */
    "COND",        /* 33 */
    "RETURN"    /* 34 */
    "ELSE"        /* 35 */
};


int int_table[84][36];

/* parsing table [ num of states ][ all the terminals and non-terminals ] */
string input_table[84][36] = {
"S5","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","R3","0","2","4","0","0","0","0","0","0","0","0","0","0","0","0",
"S5","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","R3","3","2","4","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","R1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"S5","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","R3","81","2","4","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","S8","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","6","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","S7","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"R5","0","0","0","R5","R5","0","R5","R5","R5","0","0","0","0","0","0","0","0","0","R5","R5","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","S9","0","S26","0","S25","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","S11","S12","S15","S10","0","0","0","0","0","0","0","0","0","0","0","S18","0","0","0","0","0","0","0","0","0","0","0","0","13","14","16","17","0","0","0",
"0","0","0","0","0","0","0","0","0","0","R28","R28","0","R28","R28","0","0","R28","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","R29","R29","0","R29","R29","0","0","R29","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","R30","R30","0","R30","R30","0","0","R30","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","R6","0","0","R6","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","R21","0","0","R21","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","R22","0","0","R22","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","S21","0","0","0","R24","0","0","R24","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","R26","S23","0","0","R26","0","0","R26","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","S11","S12","0","S10","0","0","0","0","0","0","0","0","0","0","0","S18","0","0","0","0","0","0","0","0","0","0","0","0","0","19","16","17","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S20","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","R27","R27","0","R27","R27","0","0","R27","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","S11","S12","0","S10","0","0","0","0","0","0","0","0","0","0","0","S18","0","0","0","0","0","0","0","0","0","0","0","0","0","22","16","17","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","R23","0","0","R23","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","S11","S12","0","S10","0","0","0","0","0","0","0","0","0","0","0","S18","0","0","0","0","0","0","0","0","0","0","0","0","0","0","24","17","0","0","0",
"0","0","0","0","0","0","0","0","0","0","R25","0","0","0","R25","0","0","R25","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"S30","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","R9","0","0","0","0","0","0","27","0","0","0","0","0","0","0","0","0","0","0",
"R4","0","0","0","R4","R4","0","R4","R4","R4","0","0","0","0","0","0","0","0","0","R4","R4","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S28","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S29","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"S82","0","0","0","S84","S42","0","S57","S64","R13","0","0","0","0","0","0","0","0","0","R13","0","0","39","0","0","0","75","37","40","0","0","0","0","0","0","0",
"0","0","0","0","S31","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S33","0","R11","0","0","0","0","0","0","0","32","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","R8","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"S34","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","S35","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S33","0","R11","0","0","0","0","0","0","0","36","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","R10","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"S82","0","0","0","S84","S42","0","S57","S64","R13","0","0","0","0","0","0","0","0","0","R13","0","0","39","0","0","0","38","37","40","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","R12","0","0","0","0","0","0","0","0","0","R12","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"R14","0","0","0","R14","R14","0","R14","R14","R14","0","0","0","0","0","0","0","0","0","R14","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","S41","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"R15","0","0","0","R15","R15","0","R15","R15","R15","0","0","0","0","0","0","0","0","0","R15","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S43","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","S11","S12","0","S10","0","0","0","0","0","0","0","0","0","0","0","S18","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","54","44","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S45","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S46","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"S82","0","0","0","S84","S42","0","S57","S64","R13","0","0","0","0","0","0","0","0","0","R13","0","0","39","0","0","0","47","37","40","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S48","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"R20","0","0","0","R20","R20","S50","R20","R20","R20","0","0","0","0","0","0","0","0","0","R20","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","49",
"R16","0","0","0","R16","R16","0","R16","R16","R16","0","0","0","0","0","0","0","0","0","R16","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S51","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"S82","0","0","0","S84","S42","0","S57","S64","R13","0","0","0","0","0","0","0","0","0","R13","0","0","39","0","0","0","52","37","40","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S53","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"R19","0","0","0","R19","R19","0","R19","R19","R19","0","0","0","0","0","0","0","0","0","R19","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","S55","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","S11","S12","0","S10","0","0","0","0","0","0","0","0","0","0","0","S18","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","56","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","R31","0","0","R31","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S58","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","S11","S12","0","S10","0","0","0","0","0","0","0","0","0","0","0","S18","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","54","59","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S60","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S61","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"S82","0","0","0","S84","S42","0","S57","S64","R13","0","0","0","0","0","0","0","0","0","R13","0","0","39","0","0","0","62","37","40","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S63","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"R17","0","0","0","R17","R17","0","R17","R17","R17","0","0","0","0","0","0","0","0","0","R17","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S65","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","S84","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","66","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","S67","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","S11","S12","0","S10","0","0","0","0","0","0","0","0","0","0","0","S18","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","54","68","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","S69","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","S84","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","70","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S71","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S72","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"S82","0","0","0","S84","S42","0","S57","S64","R13","0","0","0","0","0","0","0","0","0","R13","0","0","39","0","0","0","73","37","40","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S74","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"R18","0","0","0","R18","R18","0","R18","R18","R18","0","0","0","0","0","0","0","0","0","R18","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","S78","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","76","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","S77","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"R7","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","R7","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","S11","S12","0","S10","0","0","0","0","0","0","0","0","0","0","0","S18","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","79","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","S80","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","R32","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","R2","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","S83","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","6","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","S9","0","S26","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0",
"0","0","0","0","0","0","0","0","0","0","0","0","S9","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"

};
